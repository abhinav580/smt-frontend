{"ast":null,"code":"import { Chart, registerables } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nChart.register(...registerables);\nexport let ChartsComponent = /*#__PURE__*/(() => {\n  class ChartsComponent {\n    constructor() {\n      this.tweets = [];\n    }\n\n    ngOnChanges() {\n      if (this.tweets && this.tweets.length > 0) {\n        this.createChart();\n      }\n    }\n\n    createChart() {\n      const sentimentCounts = {\n        Positive: 0,\n        Negative: 0,\n        Neutral: 0\n      };\n      this.tweets.forEach(tweet => {\n        if (tweet.sentiment in sentimentCounts) {\n          sentimentCounts[tweet.sentiment]++;\n        }\n      });\n      const chartData = [sentimentCounts.Positive, sentimentCounts.Negative, sentimentCounts.Neutral];\n      const canvas = document.getElementById('sentimentChart');\n\n      if (this.sentimentChart) {\n        this.sentimentChart.destroy();\n      }\n\n      this.sentimentChart = new Chart(canvas, {\n        type: 'pie',\n        data: {\n          labels: ['Positive', 'Negative', 'Neutral'],\n          datasets: [{\n            data: chartData,\n            backgroundColor: ['#4caf50', '#f44336', '#ffeb3b']\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            title: {\n              display: true,\n              text: 'Sentiment Distribution'\n            }\n          }\n        }\n      });\n    }\n\n  }\n\n  ChartsComponent.ɵfac = function ChartsComponent_Factory(t) {\n    return new (t || ChartsComponent)();\n  };\n\n  ChartsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChartsComponent,\n    selectors: [[\"app-charts\"]],\n    inputs: {\n      tweets: \"tweets\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 0,\n    consts: [[2, \"position\", \"relative\", \"height\", \"400px\", \"width\", \"100%\"], [\"id\", \"sentimentChart\"]],\n    template: function ChartsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"canvas\", 1);\n        i0.ɵɵelementEnd();\n      }\n    }\n  });\n  return ChartsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}